<div class="cloTable">
  <div id="pdf-content">
    <p-progressSpinner
      *ngIf="isLoading"
      aria-label="Loading"
    ></p-progressSpinner>

    <p-table
      *ngIf="!isLoading"
      [value]="cloRows"
      [rows]="10"
      [sortMode]="'multiple'"
      rowGroupMode="subheader"
      groupRowsBy="cloType"
      class="custom-table"
    >
      <ng-template pTemplate="header">
        <tr>
          <th rowspan="3">#</th>
          <th pFrozenColumn rowspan="4">CLOs</th>
          <th colspan="2">Хичээлийн идэвхи, оролцоо</th>
          <th colspan="2">Явцын сорил 1</th>
          <th colspan="2">Явцын сорил 2</th>
          <th colspan="2">Лабораторийн ажил, туршилт</th>
          <th colspan="4">Даалгавар</th>
          <th style="background-color: rgb(72, 182, 255)" rowspan="3">
            Явцын үнэлгээний харгалзах нийлбэр оноо
          </th>
          <th colspan="3">Улирлын шалгалт</th>
          <th rowspan="3" style="background-color: rgb(72, 182, 255)">
            Шалгалтын үнэлгээний харгалзах нийлбэр оноо
          </th>
          <th rowspan="3">Нийлбэр оноо</th>
        </tr>
        <tr>
          <th>Цаг төлөвлөлт, хариуцлага</th>
          <th>Суралцах хүсэл эрмэлзэл, өөрийгээ илэрхийлэх</th>
          <th>Мэдлэгээ сэргээн санах, тайлбарлах</th>
          <th>Асуудал шийдвэрлэхэд мэдлэгээ хэрэглэх, задлан шинжлэх</th>
          <th>Мэдлэгээ сэргээн санах, тайлбарлах</th>
          <th>Асуудал шийдвэрлэхэд мэдлэгээ хэрэглэх, задлан шинжлэх</th>
          <th>Лабораторийн хэмжилт, туршилт, даалгавар гүйцэтгэх</th>
          <th>
            Үр дүнг тохирох аргаар өгөгдсөн форматын дагуу боловсруулж,
            тайлагнах
          </th>
          <th>
            Өгөгдсөн даалгаварын хүрээнд шийдвэрлэх асуудлаа тодорхойлж
            томъёолох
          </th>
          <th>
            Шийдвэрлэх асуудлын хүрээнд тодорхой шийдэл дэвшүүлэх, дүн шинжилгээ
            хийх
          </th>
          <th>
            Мэдлэг, ур чадвараа ашиглан сонгосон шийдлын дагуу асуудлыг
            шийдвэрлэх
          </th>
          <th>
            Бичгийн болон харилцах ур чадвараа ашиглан үр дүнг өгөгдсөн форматын
            дагуу тайлагнах, илтгэх
          </th>
          <th>Сэргээн санах/ойлгох түвшин</th>
          <th>Хэрэглэх /дүн шинжилгээ хийх түвшин</th>
          <th>Үнэлэх/ бүтээх түвшин</th>
        </tr>

        <tr *ngFor="let col of sampleData?.[0] || []">
          <td>{{ col.timeManagement }}</td>
          <td>{{ col.engagement }}</td>
          <td>{{ col.recall }}</td>
          <td>{{ col.problemSolving }}</td>
          <td>{{ col.recall2 }}</td>
          <td>{{ col.problemSolving2 }}</td>
          <td>{{ col.toExp }}</td>
          <td>{{ col.processing }}</td>
          <td>{{ col.decisionMaking }}</td>
          <td>{{ col.formulation }}</td>
          <td>{{ col.analysis }}</td>
          <td>{{ col.implementation }}</td>
          <td>{{ col.understandingLevel }}</td>
          <td>{{ col.analysisLevel }}</td>
          <td>{{ col.creationLevel }}</td>
        </tr>
      </ng-template>

      <ng-template pTemplate="groupheader" let-row>
        <tr class="clo-subheader">
          <td colspan="22">
            <strong>
              {{ getGroupHeaderLabel(row.cloType) }}
            </strong>
          </td>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-row let-ri="rowIndex">
        <tr>
          <td>{{ ri + 1 }}</td>
          <td pFrozenColumn>{{ row.cloName }}</td>
          <td>
            {{ row.timeManagement }}
          </td>
          <td>
            {{ row.engagement }}
          </td>
          <td>
            {{ row.recall }}
          </td>
          <td>
            {{ row.problemSolving }}
          </td>
          <td>
            {{ row.recall2 }}
          </td>
          <td>
            {{ row.problemSolving2 }}
          </td>
          <td>
            {{ row.toExp }}
          </td>
          <td>
            {{ row.processing }}
          </td>
          <td>
            {{ row.decisionMaking }}
          </td>
          <td>
            {{ row.formulation }}
          </td>
          <td>
            {{ row.analysis }}
          </td>
          <td>
            {{ row.implementation }}
          </td>
          <td style="background-color: rgb(72, 182, 255)">
            {{ row.procTotal }}
          </td>
          <td>
            {{ row.understandingLevel }}
          </td>
          <td>
            {{ row.analysisLevel }}
          </td>
          <td>
            {{ row.creationLevel }}
          </td>
          <td style="background-color: rgb(72, 182, 255)">
            {{ row.examTotal }}
          </td>
          <td>
            {{ row.total }}
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
